@model ConfyCreationsSalesSystem.Models.SalesSummary
@{
    ViewData["Title"] = "Daily Sales";
}

<div class="d-flex justify-content-between align-items-center mb-4">
    <div>
        <h1 class="h3 mb-0">Daily Sales Report</h1>
        <p class="text-muted">@Model.Date.ToString("dddd, MMMM dd, yyyy")</p>
    </div>
    <a asp-action="Record" class="btn btn-primary">
        <i class="bi bi-plus-circle"></i> Record New Sale
    </a>
</div>

<div class="row mb-4">
    <div class="col-md-4">
        <div class="card text-center">
            <div class="card-body">
                <h3 class="card-title text-primary">@Model.TotalSalesCount</h3>
                <p class="card-text text-muted">Total Sales Today</p>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card text-center">
            <div class="card-body">
                <h3 class="card-title text-success">$@Model.TotalRevenue.ToString("F2")</h3>
                <p class="card-text text-muted">Total Revenue</p>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card text-center">
            <div class="card-body">
                <h3 class="card-title text-info">@DateTime.Now.ToString("hh:mm tt")</h3>
                <p class="card-text text-muted">Current Time</p>
            </div>
        </div>
    </div>
</div>

<div class="card">
    <div class="card-body">
        @if (Model.TotalSalesCount > 0)
        {
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>Sale Time</th>
                            <th>Product ID</th>
                            <th>Product Name</th>
                            <th>Quantity</th>
                            <th>Unit Price</th>
                            <th>Total Amount</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var sale in Model.Sales)
                        {
                            <tr>
                                <td>@sale.SaleDate.ToString("hh:mm:ss tt")</td>
                                <td>@sale.ProductId</td>
                                <td>@sale.ProductName</td>
                                <td>@sale.Quantity</td>
                                <td>$@sale.UnitPrice.ToString("F2")</td>
                                <td class="fw-bold">$@sale.TotalAmount.ToString("F2")</td>
                            </tr>
                        }
                    </tbody>
                    <tfoot class="table-dark">
                        <tr>
                            <td colspan="5" class="text-end fw-bold">Grand Total:</td>
                            <td class="fw-bold">$@Model.TotalRevenue.ToString("F2")</td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        }
        else
        {
            <div class="text-center py-5">
                <i class="bi bi-cart-x display-1 text-muted"></i>
                <h4 class="mt-3">No sales recorded today</h4>
                <p class="text-muted">Start recording sales to see the daily report.</p>
                <a asp-action="Record" class="btn btn-primary">
                    <i class="bi bi-plus-circle"></i> Record First Sale
                </a>
            </div>
        }
    </div>
</div>
